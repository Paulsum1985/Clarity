<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Debt Clearing Calculator | The Ultimate Free Payoff Planner (2026 Edition)</title>
    <meta name="description" content="The #1 free Debt Clearing Calculator. Generate a month-by-month amortization schedule, compare Snowball vs. Avalanche, and get a custom strategy to become debt-free fast.">
    <meta name="keywords" content="debt snowball calculator, amortization schedule, credit card payoff planner, debt avalanche calculator, how to clear debt, loan repayment strategy, financial freedom tool">
    
    <!-- CRITICAL SEO TAGS -->
    <link rel="canonical" href="https://www.clarity-decisions.com/">
    <meta name="robots" content="index, follow">
    <meta name="author" content="Clarity Decisions">

    <!-- PERFORMANCE & PRELOAD -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preconnect" href="https://cdn.jsdelivr.net">

    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-CW10YREPFF"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-CW10YREPFF');
    </script>

    <!-- PWA / MOBILE CAPABILITIES -->
    <link rel="manifest" href="data:application/json;base64,eyJuYW1lIjoiQ2xhcml0eSBEZWNpc2lvbnMiLCJzaG9ydF9uYW1lIjoiQ2xhcml0eSIsInN0YXJ0X3VybCI6Ii8iLCJkaXNwbGF5Ijoic3RhbmRhbG9uZSIsImJhY2tncm91bmRfY29sb3IiOiIjMDIwNjE3IiwidGhlbWVfY29sb3IiOiIjM2I4MmY2IiwiaWNvbnMiOlt7InNyYyI6Imh0dHBzOi8vY2RuLWljb25zLXBuZy5mbGF0aWNvbi5jb20vNTEyLzI1MzQvMjUzNDIyMS5wbmciLCJzaXplcyI6IjUxMng1MTIiLCJ0eXBlIjoiaW1hZ2UvcG5nIn1dfQ==">
    <meta name="theme-color" content="#020617">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

    <!-- SOCIAL SHARING CARDS -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://www.clarity-decisions.com/">
    <meta property="og:title" content="How to Clear Debt Quickly | Advanced Calculator">
    <meta property="og:description" content="Stop guessing. Use the Clarity Engine to visualize your exact debt-free date and save thousands in interest.">
    <meta property="og:image" content="https://clarity-decisions.com/share-card.png">

    <!-- DYNAMIC FAVICON -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üìä</text></svg>">

    <!-- *** RICH RESULTS SCHEMAS (THE SEO SECRET SAUCE) *** -->
    
    <!-- 1. Software Application Schema (Better for Tools than Product) -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "SoftwareApplication",
      "name": "Clarity Debt Clearing Calculator",
      "description": "Professional-grade debt payoff calculator offering Snowball and Avalanche strategies with detailed amortization schedules.",
      "applicationCategory": "FinanceApplication",
      "operatingSystem": "Web Browser",
      "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "USD"
      },
      "featureList": "Debt Snowball Calculation, Avalanche Method, Amortization Schedule, Interest Savings Estimator"
    }
    </script>

    <!-- 2. Breadcrumb Schema -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "BreadcrumbList",
      "itemListElement": [{
        "@type": "ListItem",
        "position": 1,
        "name": "Home",
        "item": "https://www.clarity-decisions.com/"
      },{
        "@type": "ListItem",
        "position": 2,
        "name": "Calculators",
        "item": "https://www.clarity-decisions.com/#tools"
      },{
        "@type": "ListItem",
        "position": 3,
        "name": "Debt Payoff Planner",
        "item": "https://www.clarity-decisions.com/"
      }]
    }
    </script>

    <!-- 3. HowTo Schema -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "HowTo",
      "name": "How to clear debt fast using the Snowball Method",
      "step": [
        { "@type": "HowToStep", "name": "List your debts", "text": "Enter every credit card, loan, and overdraft balance along with their interest rates." },
        { "@type": "HowToStep", "name": "Choose a strategy", "text": "Select 'Snowball' to pay off smallest balances first for motivation, or 'Avalanche' to target high interest rates." },
        { "@type": "HowToStep", "name": "Calculate your budget", "text": "Determine how much extra money you can afford to pay monthly above your minimums." },
        { "@type": "HowToStep", "name": "Execute the plan", "text": "Pay the minimum on everything, and put all extra funds towards the top priority debt." }
      ]
    }
    </script>

    <!-- 4. FAQ Schema -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "FAQPage",
      "mainEntity": [{
        "@type": "Question",
        "name": "What is the fastest way to clear debt?",
        "acceptedAnswer": { "@type": "Answer", "text": "Mathematically, the 'Avalanche Method' is fastest. By paying off debts with the highest interest rates first, you minimize the compound interest working against you, reducing both the time and total cost." }
      }, {
        "@type": "Question",
        "name": "Is this calculator secure?",
        "acceptedAnswer": { "@type": "Answer", "text": "Yes. Clarity Decisions uses client-side processing. Your financial data is processed instantly in your own browser memory and is never transmitted to any external server or database." }
      }]
    }
    </script>

    <!-- EXTERNAL LIBS (Defer for Performance) -->
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js" defer></script>

    <style>
        :root {
            /* Premium Dark Theme Palette */
            --bg-dark: #0f172a;       
            --bg-card: #1e293b;       
            --primary: #3b82f6;       
            --primary-hover: #2563eb;
            --accent: #06b6d4;        
            --text-main: #f8fafc;     
            --text-muted: #94a3b8;    
            --border: #334155;        
            --success: #10b981;
            --danger: #ef4444;
            --warning: #f59e0b;
            --glass: rgba(30, 41, 59, 0.7);
        }

        * { box-sizing: border-box; outline: none; -webkit-tap-highlight-color: transparent; }

        body {
            font-family: 'Plus Jakarta Sans', sans-serif;
            background-color: var(--bg-dark);
            color: var(--text-main);
            margin: 0;
            padding: 0;
            line-height: 1.6;
            overflow-x: hidden;
            background-image: 
                radial-gradient(circle at 10% 20%, rgba(59, 130, 246, 0.1) 0%, transparent 20%),
                radial-gradient(circle at 90% 80%, rgba(6, 182, 212, 0.1) 0%, transparent 20%);
            background-attachment: fixed;
        }

        /* --- NAVIGATION --- */
        nav {
            background: rgba(15, 23, 42, 0.9);
            backdrop-filter: blur(16px);
            border-bottom: 1px solid var(--border);
            padding: 16px 5%;
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: sticky;
            top: 0;
            z-index: 1000;
        }
        .logo { 
            font-weight: 800; font-size: 1.4rem; letter-spacing: -0.5px;
            color: white; display: flex; align-items: center; gap: 10px;
        }
        .logo i { background: linear-gradient(135deg, var(--primary), var(--accent)); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        
        .currency-switch {
            display: flex; background: #334155; padding: 2px; border-radius: 8px; border: 1px solid var(--border);
        }
        .curr-btn {
            padding: 6px 14px; font-size: 0.9rem; font-weight: 700; color: var(--text-muted); cursor: pointer; border-radius: 6px; transition: 0.2s;
        }
        .curr-btn:hover { color: white; }
        .curr-btn.active { background: var(--primary); color: white; }

        /* --- HERO --- */
        .hero {
            text-align: center;
            padding: 60px 20px 40px;
            position: relative;
        }
        .hero h1 {
            font-size: 3rem; letter-spacing: -1.5px; margin: 0 0 15px 0; line-height: 1.1;
        }
        .hero h1 span {
            background: linear-gradient(135deg, #60a5fa 0%, #22d3ee 100%);
            -webkit-background-clip: text; -webkit-text-fill-color: transparent;
        }
        
        .main-tagline {
            font-size: 1.3rem; font-weight: 600; color: white; margin: 0 auto 10px;
            font-style: italic; max-width: 800px;
        }
        .sub-tagline {
            font-size: 1.05rem; color: var(--text-muted); max-width: 600px; margin: 0 auto 30px;
        }
        
        .trust-bar {
            display: flex; justify-content: center; gap: 40px; opacity: 0.5; margin-bottom: 20px; filter: grayscale(100%);
        }
        .trust-bar i { font-size: 2rem; transition: 0.3s; }
        .trust-bar i:hover { filter: grayscale(0%); color: white; opacity: 1; }

        /* --- LAYOUT --- */
        .app-container {
            max-width: 1200px;
            margin: 0 auto 60px;
            padding: 0 20px;
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
        }
        .full-width-card { grid-column: 1 / -1; }

        @media(max-width: 960px) { 
            .app-container { grid-template-columns: 1fr; gap: 30px; }
            .full-width-card { grid-column: 1; }
            .hero h1 { font-size: 2.2rem; }
        }

        /* --- CARDS & UI COMPONENTS --- */
        .card {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 20px;
            padding: 25px;
            box-shadow: 0 20px 40px -10px rgba(0, 0, 0, 0.5);
            position: relative;
            overflow: hidden;
            display: flex; flex-direction: column;
        }
        .card::before {
            content:''; position: absolute; top:0; left:0; right:0; height:1px;
            background: linear-gradient(90deg, transparent, rgba(59, 130, 246, 0.5), transparent);
        }

        .card-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 25px; }
        .card-title { font-size: 1.2rem; font-weight: 700; color: white; display: flex; align-items: center; gap: 10px; }

        /* Toggles & Inputs */
        .strategy-toggle { display: flex; background: #0f172a; padding: 4px; border-radius: 10px; margin-bottom: 20px; border: 1px solid var(--border); }
        .toggle-opt {
            flex: 1; text-align: center; padding: 12px; font-size: 0.95rem; font-weight: 600; color: var(--text-muted); 
            cursor: pointer; border-radius: 8px; transition: 0.3s;
        }
        .toggle-opt.active { background: var(--bg-card); color: white; border: 1px solid var(--border); box-shadow: 0 4px 12px rgba(0,0,0,0.5); }

        .debt-list { display: flex; flex-direction: column; gap: 12px; margin-bottom: 20px; }
        .debt-row {
            display: grid; grid-template-columns: 1.5fr 1fr 0.8fr 0.8fr 40px; gap: 10px; align-items: end;
            padding: 15px; border: 1px solid var(--border); border-radius: 12px; background: rgba(15, 23, 42, 0.5); transition: 0.2s;
        }
        .debt-row:hover { border-color: var(--primary); transform: translateY(-2px); }
        
        @media(max-width: 600px) {
            .debt-row { grid-template-columns: 1fr 1fr; gap: 15px; position: relative; padding-top: 40px; }
            .col-name { grid-column: 1 / -1; }
            .col-del { position: absolute; top: 10px; right: 10px; }
        }

        .input-col label { font-size: 0.75rem; font-weight: 700; color: var(--text-muted); text-transform: uppercase; margin-bottom: 6px; display: block; letter-spacing: 0.5px; }
        input {
            width: 100%; padding: 12px; background: #0f172a; border: 1px solid var(--border); border-radius: 8px; 
            font-size: 1rem; font-family: inherit; color: white; font-weight: 500; transition: all 0.2s;
        }
        input:focus { border-color: var(--primary); box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.2); }

        .btn-add {
            width: 100%; padding: 14px; border: 2px dashed var(--border); background: transparent; color: var(--text-muted); 
            font-weight: 600; cursor: pointer; border-radius: 10px; transition: 0.2s;
        }
        .btn-add:hover { border-color: var(--primary); color: var(--primary); background: rgba(59, 130, 246, 0.05); }

        /* Slider */
        .slider-container { margin: 30px 0; }
        .slider-header { display: flex; justify-content: space-between; margin-bottom: 12px; }
        input[type=range] { -webkit-appearance: none; width: 100%; height: 8px; background: var(--border); border-radius: 5px; padding: 0; border: none; }
        input[type=range]::-webkit-slider-thumb { -webkit-appearance: none; height: 24px; width: 24px; border-radius: 50%; background: var(--primary); cursor: pointer; box-shadow: 0 0 15px rgba(59, 130, 246, 0.6); }

        .btn-primary {
            width: 100%; padding: 18px; background: linear-gradient(135deg, var(--primary), var(--accent));
            color: white; border: none; border-radius: 12px; font-weight: 700; font-size: 1.1rem; cursor: pointer;
            box-shadow: 0 10px 30px -5px rgba(59, 130, 246, 0.4); transition: 0.2s; text-transform: uppercase; letter-spacing: 1px;
            position: relative; overflow: hidden;
        }
        .btn-primary:hover { transform: translateY(-2px); box-shadow: 0 15px 35px -5px rgba(59, 130, 246, 0.5); }

        /* --- DASHBOARD --- */
        .result-summary {
            text-align: center; padding: 35px; background: linear-gradient(180deg, rgba(59, 130, 246, 0.1) 0%, transparent 100%);
            border-radius: 16px; border: 1px solid rgba(59, 130, 246, 0.2); margin-bottom: 30px;
        }
        .freedom-date { 
            font-size: 3rem; font-weight: 800; line-height: 1.1; 
            background: linear-gradient(to right, #fff, #bae6fd);
            -webkit-background-clip: text; -webkit-text-fill-color: transparent; margin-bottom: 8px;
        }
        .freedom-sub { font-size: 0.9rem; color: var(--text-muted); font-weight: 600; letter-spacing: 2px; text-transform: uppercase; }

        .metric-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-top: 20px; }
        .metric-box { padding: 15px; border-radius: 12px; font-size: 0.85rem; text-align: center; border: 1px solid transparent; }
        .metric-save { background: rgba(16, 185, 129, 0.1); color: #34d399; border-color: rgba(16, 185, 129, 0.2); }
        .metric-waste { background: rgba(239, 68, 68, 0.1); color: #f87171; border-color: rgba(239, 68, 68, 0.2); }
        .metric-val { display: block; font-weight: 800; font-size: 1.25rem; margin-top: 5px; color: white; }

        .comparison-bar {
            margin: 25px 0; background: #0f172a; border-radius: 8px; padding: 15px; border: 1px solid var(--border);
        }
        .bar-row { display: flex; justify-content: space-between; font-size: 0.85rem; margin-bottom: 8px; }
        .progress-track { width: 100%; height: 10px; background: #334155; border-radius: 5px; overflow: hidden; margin-bottom: 15px; }
        .progress-fill { height: 100%; border-radius: 5px; transition: width 1s cubic-bezier(0.4, 0, 0.2, 1); }

        .chart-container { height: 300px; width: 100%; margin-bottom: 20px; position: relative; }

        /* --- TABS SYSTEM --- */
        .tabs-header { display: flex; border-bottom: 1px solid var(--border); margin-bottom: 20px; }
        .tab-btn {
            padding: 10px 20px; color: var(--text-muted); cursor: pointer; font-weight: 600; font-size: 0.9rem;
            border-bottom: 2px solid transparent; transition: 0.2s;
        }
        .tab-btn:hover { color: white; }
        .tab-btn.active { color: var(--primary); border-bottom-color: var(--primary); }
        
        .tab-content { display: none; animation: fadeIn 0.3s ease; }
        .tab-content.active { display: block; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(5px); } to { opacity: 1; transform: translateY(0); } }

        /* --- DETAILED TABLE --- */
        .schedule-table { width: 100%; border-collapse: collapse; font-size: 0.9rem; margin-top: 10px; }
        .schedule-table th { text-align: left; padding: 12px; color: var(--text-muted); border-bottom: 1px solid var(--border); font-weight: 600; }
        .schedule-table td { padding: 12px; border-bottom: 1px solid rgba(255,255,255,0.05); color: #e2e8f0; }
        .schedule-table tr:hover { background: rgba(255,255,255,0.02); }
        
        /* --- ACTION PLAN --- */
        .plan-list { background: rgba(0,0,0,0.2); border-radius: 16px; padding: 5px; border: 1px solid var(--border); }
        .plan-step { padding: 15px; border-bottom: 1px solid var(--border); display: flex; align-items: flex-start; gap: 15px; }
        .step-num { 
            background: #1e293b; color: var(--primary); width: 28px; height: 28px; border-radius: 50%; border: 1px solid var(--border);
            display: flex; align-items: center; justify-content: center; font-size: 0.85rem; font-weight: 700; flex-shrink: 0;
        }
        .badge-focus {
            background: rgba(16, 185, 129, 0.15); color: #34d399; padding: 2px 8px; border-radius: 4px; 
            font-size: 0.7rem; font-weight: 800; text-transform: uppercase; margin-left: 8px; border: 1px solid rgba(16, 185, 129, 0.3);
        }

        /* --- SEO CONTENT BLOCKS --- */
        .content-section {
            max-width: 900px; margin: 80px auto; padding: 40px 20px;
            background: #0f172a; border-top: 1px solid var(--border); border-bottom: 1px solid var(--border);
        }
        .content-block h2 { font-size: 2.2rem; color: white; margin-bottom: 25px; letter-spacing: -0.5px; margin-top: 50px; }
        .content-block h3 { font-size: 1.5rem; color: #e2e8f0; margin-top: 35px; margin-bottom: 15px; }
        .content-block p { color: #94a3b8; margin-bottom: 20px; font-size: 1.1rem; line-height: 1.8; }
        .content-block ul { color: #94a3b8; margin-bottom: 25px; padding-left: 20px; line-height: 1.8; }
        .content-block li { margin-bottom: 10px; }
        
        .glossary-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin-top: 30px; }
        .glossary-item { background: #1e293b; padding: 20px; border-radius: 12px; border: 1px solid var(--border); }
        .glossary-term { font-weight: 700; color: white; font-size: 1.1rem; margin-bottom: 8px; display: block; }
        .glossary-def { font-size: 0.95rem; color: #94a3b8; }

        .faq-item { border-bottom: 1px solid var(--border); padding: 20px 0; }
        .faq-q { font-weight: 600; color: white; cursor: pointer; display: flex; justify-content: space-between; font-size: 1.1rem; }
        .faq-a { margin-top: 15px; display: none; color: #94a3b8; line-height: 1.6; font-size: 1.05rem; }
        .faq-item.active .faq-a { display: block; }

        /* Footer */
        footer {
            text-align: center; padding: 60px 20px; background: #020617;
            color: #64748b; font-size: 0.9rem;
        }

        /* Sticky CTA for Mobile */
        .mobile-cta {
            position: fixed; bottom: 20px; left: 20px; right: 20px; z-index: 900; display: none;
        }
        @media(max-width: 768px) { .mobile-cta { display: block; } }

        /* Loading & Confetti */
        #loading-overlay {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(15, 23, 42, 0.9); backdrop-filter: blur(8px);
            display: flex; flex-direction: column; justify-content: center; align-items: center;
            z-index: 10; border-radius: 20px; display: none;
        }
        .spinner { width: 50px; height: 50px; border: 4px solid rgba(255,255,255,0.1); border-left-color: var(--primary); border-radius: 50%; animation: spin 1s linear infinite; }
        @keyframes spin { 100% { transform: rotate(360deg); } }
        #confetti { position: absolute; top:0; left:0; width:100%; height:100%; pointer-events: none; z-index: 5; }

        /* --- TOOLTIP --- */
        [data-tooltip] { position: relative; cursor: help; border-bottom: 1px dashed var(--text-muted); }
        [data-tooltip]:hover::after {
            content: attr(data-tooltip); position: absolute; bottom: 100%; left: 50%; transform: translateX(-50%);
            background: #0f172a; border: 1px solid var(--primary); color: white; padding: 8px 12px; font-size: 0.8rem;
            border-radius: 6px; white-space: nowrap; z-index: 100; margin-bottom: 8px; box-shadow: 0 10px 15px rgba(0,0,0,0.5);
        }
    </style>
</head>
<body>

    <nav>
        <div class="logo">
            <i class="fas fa-layer-group"></i>&nbsp;Clarity
        </div>
        
        <div class="currency-switch">
            <div class="curr-btn active" id="curr-usd" onclick="setCurrency('$')">$</div>
            <div class="curr-btn" id="curr-gbp" onclick="setCurrency('¬£')">¬£</div>
            <div class="curr-btn" id="curr-eur" onclick="setCurrency('‚Ç¨')">‚Ç¨</div>
        </div>
    </nav>

    <header class="hero">
        <h1>Debt Payoff Calculator<br><span>Pay Off Debt Scientifically.</span></h1>
        
        <p class="main-tagline">"Get Clarity on your Debt. Make the Decision to be Free."</p>
        <p class="sub-tagline">The #1 free tool to visualize your debt-free date using the <span data-tooltip="Paying smallest debts first for motivation">Snowball</span> or <span data-tooltip="Paying highest interest debts first for math">Avalanche</span> method.</p>
        
        <div class="trust-bar">
            <i class="fab fa-cc-visa" title="Visa"></i>
            <i class="fab fa-cc-mastercard" title="Mastercard"></i>
            <i class="fas fa-university" title="Banks"></i>
            <i class="fas fa-file-contract" title="Loans"></i>
        </div>
    </header>

    <div class="app-container">
        
        <!-- INPUT COLUMN -->
        <div class="card">
            <div class="card-header">
                <div class="card-title"><i class="fas fa-sliders-h" style="color:var(--primary)"></i> Configuration</div>
            </div>

            <div class="strategy-toggle">
                <div class="toggle-opt active" id="btn-snowball" onclick="setStrategy('snowball')">Snowball (Fast Wins)</div>
                <div class="toggle-opt" id="btn-avalanche" onclick="setStrategy('avalanche')">Avalanche (Save Money)</div>
            </div>

            <div id="debt-list" class="debt-list"></div>

            <button class="btn-add" onclick="addDebtRow()">+ Add another liability</button>

            <div class="slider-container">
                <div class="slider-header">
                    <label style="color:white; font-weight:600;">Monthly Extra Payment</label>
                    <span id="slider-val" style="color:var(--success); font-weight:700;">$200</span>
                </div>
                <input type="range" id="extra-pay-slider" min="0" max="2000" step="10" value="200" oninput="syncSlider(this.value)">
                <div style="margin-top:10px;">
                     <input type="number" id="extra-pay" value="200" oninput="syncInput(this.value)" style="background:#020617;">
                </div>
            </div>

            <button class="btn-primary" onclick="startCalculation()">Calculate Freedom Date</button>
        </div>

        <!-- RESULTS COLUMN -->
        <div class="card" id="results-card">
            <canvas id="confetti"></canvas>
            <div id="loading-overlay"><div class="spinner"></div><div style="margin-top:20px; font-weight:600; color:white;">Optimizing...</div></div>

            <!-- TABS -->
            <div class="tabs-header">
                <div class="tab-btn active" onclick="switchTab('dashboard')">Dashboard</div>
                <div class="tab-btn" onclick="switchTab('schedule')">Full Schedule</div>
            </div>

            <!-- TAB 1: DASHBOARD -->
            <div id="tab-dashboard" class="tab-content active">
                <div class="result-summary">
                    <div>
                        <div class="freedom-sub">DEBT FREE BY</div>
                        <div class="freedom-date" id="final-date">--</div>
                    </div>
                    <div class="metric-grid">
                        <div class="metric-box metric-save">Interest Saved <span class="metric-val" id="val-saved">--</span></div>
                        <div class="metric-box metric-waste">Total Interest <span class="metric-val" id="val-paid">--</span></div>
                    </div>
                </div>

                <div class="comparison-bar">
                    <div class="bar-row">
                        <span style="color:var(--text-muted)">Minimum Payments Only</span>
                        <span style="color:var(--danger)" id="time-min-text">Forever</span>
                    </div>
                    <div class="progress-track"><div class="progress-fill" style="width:100%; background:var(--border);"></div></div>
                    
                    <div class="bar-row">
                        <span style="color:white">Clarity Strategy</span>
                        <span style="color:var(--success)" id="time-saved-text">--</span>
                    </div>
                    <div class="progress-track"><div id="progress-bar-smart" class="progress-fill" style="width:0%; background:var(--primary);"></div></div>
                </div>

                <div id="diagnosis-box" style="background:#1e3a8a; border-left:4px solid var(--primary); padding:15px; border-radius:8px; margin-bottom:20px; font-size:0.9rem; color:#dbeafe; display:none;"></div>

                <div class="chart-container">
                    <canvas id="chart"></canvas>
                </div>
            </div>

            <!-- TAB 2: SCHEDULE -->
            <div id="tab-schedule" class="tab-content">
                <h3 style="color:white; font-size:1.1rem; margin-bottom:15px;">Detailed Amortization</h3>
                <div style="max-height:600px; overflow-y:auto; border:1px solid var(--border); border-radius:10px;">
                    <table class="schedule-table">
                        <thead>
                            <tr>
                                <th>Month</th>
                                <th>Date</th>
                                <th>Total Balance</th>
                                <th>Paid</th>
                            </tr>
                        </thead>
                        <tbody id="schedule-body"></tbody>
                    </table>
                </div>
            </div>

        </div>

        <!-- BOTTOM: ACTION PLAN -->
        <div class="card full-width-card">
            <div class="card-header">
                <div class="card-title" style="font-size:1.1rem; color:white;">
                    <i class="fas fa-clipboard-check" style="color:var(--success)"></i> Your Monthly Action Plan
                </div>
            </div>
            
            <div id="strategy-explainer" style="background:rgba(59, 130, 246, 0.1); border-left: 4px solid var(--primary); padding:15px; margin-bottom:20px; font-size:0.9rem; color:#dbeafe; border-radius:4px;">
                Loading strategy...
            </div>
            
            <div id="action-plan" class="plan-list"></div>
        </div>

    </div>

    <!-- SEO CONTENT HUB -->
    <div class="content-section content-block">
        <h2>Strategic Debt Repayment Guide</h2>
        <p>Paying off debt effectively requires more than just making payments; it requires a mathematical strategy. Clarity Decisions provides professional-grade tools usually reserved for financial advisors, completely free.</p>

        <div class="glossary-grid">
            <div class="glossary-item">
                <span class="glossary-term">Snowball Method</span>
                <span class="glossary-def">Targeting the smallest debt balance first to build psychological momentum. Best for staying motivated.</span>
            </div>
            <div class="glossary-item">
                <span class="glossary-term">Avalanche Method</span>
                <span class="glossary-def">Targeting the highest interest rate first to minimize total cost. Best for mathematical optimization.</span>
            </div>
            <div class="glossary-item">
                <span class="glossary-term">Consolidation</span>
                <span class="glossary-def">Combining multiple high-interest debts into a single lower-interest loan to reduce monthly payments.</span>
            </div>
        </div>

        <h3>Common Questions</h3>
        
        <div class="faq-item" onclick="this.classList.toggle('active')">
            <div class="faq-q">Which debt should I pay off first? <i class="fas fa-chevron-down"></i></div>
            <div class="faq-a">If you need a quick "win" to feel good, pay off the smallest balance (Snowball). If you want to save the most money over time, pay off the debt with the highest interest rate (Avalanche). Our calculator allows you to toggle between both to compare.</div>
        </div>

        <div class="faq-item" onclick="this.classList.toggle('active')">
            <div class="faq-q">Does this tool work for student loans? <i class="fas fa-chevron-down"></i></div>
            <div class="faq-a">Yes. You can enter student loans, credit cards, car finance, and personal loans. We generally recommend prioritizing high-interest consumer debt (credit cards) over lower-interest student loans.</div>
        </div>

        <div class="faq-item" onclick="this.classList.toggle('active')">
            <div class="faq-q">Is my data secure? <i class="fas fa-chevron-down"></i></div>
            <div class="faq-a">Absolutely. Clarity Decisions operates on a "Client-Side" model. This means all calculations happen instantly on your device. We do not have a database, user accounts, or any way to see your financial numbers.</div>
        </div>
        
        <h3>Calculation Methodology</h3>
        <p>This calculator uses standard NPER and PMT financial formulas to simulate amortization. It assumes that minimum payments are either a fixed amount or a percentage of the balance (calculated as 2% for credit cards by default if not specified). Interest is compounded monthly. Results are estimates for planning purposes.</p>
    </div>

    <div class="mobile-cta">
        <button class="btn-primary" onclick="startCalculation()" style="box-shadow: 0 10px 30px rgba(0,0,0,0.8);">Calculate Now</button>
    </div>

    <footer>
        <div style="margin-bottom:10px;">&copy; 2026 Clarity Decisions.</div>
        <div style="opacity: 0.6;">This tool is for educational purposes only and does not constitute financial advice.</div>
    </footer>

    <script>
        // --- State ---
        let debts = [
            { name: 'Credit Card', bal: 1500, rate: 24.9, min: 45 },
            { name: 'Car Loan', bal: 6500, rate: 7.9, min: 180 },
            { name: 'Personal Loan', bal: 800, rate: 12.5, min: 50 }
        ];
        let strategy = 'snowball';
        let currency = '$';
        let chartInstance = null;

        // --- Init ---
        function init() {
            loadData();
            renderList();
            setCurrencyUI();
            drawChart(['Start', 'End'], [0, 0]); 
            document.getElementById('final-date').innerText = "Ready?";
        }

        // --- Core Logic ---
        function saveData() {
            const data = {
                debts: debts,
                strategy: strategy,
                currency: currency,
                extra: document.getElementById('extra-pay').value
            };
            localStorage.setItem('clarityData', JSON.stringify(data));
        }

        function loadData() {
            const saved = localStorage.getItem('clarityData');
            if(saved) {
                try {
                    const data = JSON.parse(saved);
                    if(data.debts) debts = data.debts;
                    if(data.strategy) strategy = data.strategy;
                    if(data.currency) currency = data.currency;
                    if(data.extra) {
                        document.getElementById('extra-pay').value = data.extra;
                        document.getElementById('extra-pay-slider').value = data.extra;
                    }
                    document.querySelectorAll('.toggle-opt').forEach(b => b.classList.remove('active'));
                    document.getElementById('btn-'+strategy).classList.add('active');
                } catch(e) {}
            }
        }

        function setCurrency(c) {
            currency = c;
            setCurrencyUI();
            saveData();
            renderList();
            if(document.getElementById('final-date').innerText !== "Ready?") calculate();
        }

        function setCurrencyUI() {
            document.querySelectorAll('.curr-btn').forEach(btn => btn.classList.remove('active'));
            if(currency === '$') document.getElementById('curr-usd').classList.add('active');
            if(currency === '¬£') document.getElementById('curr-gbp').classList.add('active');
            if(currency === '‚Ç¨') document.getElementById('curr-eur').classList.add('active');
            const val = document.getElementById('extra-pay').value;
            document.getElementById('slider-val').innerText = currency + val;
        }

        function renderList() {
            const container = document.getElementById('debt-list');
            container.innerHTML = '';
            debts.forEach((d, i) => {
                const el = document.createElement('div');
                el.className = 'debt-row';
                el.innerHTML = `
                    <div class="input-col col-name"><label>Liability</label><input type="text" aria-label="Debt Name" value="${d.name}" onchange="updateDebt(${i}, 'name', this.value)"></div>
                    <div class="input-col"><label>Balance (${currency})</label><input type="number" aria-label="Balance" inputmode="numeric" value="${d.bal}" onchange="updateDebt(${i}, 'bal', this.value)"></div>
                    <div class="input-col"><label>APR %</label><input type="number" aria-label="Interest Rate" inputmode="numeric" value="${d.rate}" onchange="updateDebt(${i}, 'rate', this.value)"></div>
                    <div class="input-col"><label>Min ${currency}</label><input type="number" aria-label="Minimum Payment" inputmode="numeric" value="${d.min}" onchange="updateDebt(${i}, 'min', this.value)"></div>
                    <button style="background:none; border:none; color:#ef4444; padding:0 0 10px 10px;" aria-label="Remove Debt" onclick="removeDebt(${i})"><i class="fas fa-trash"></i></button>
                `;
                container.appendChild(el);
            });
        }

        function addDebtRow() { debts.push({name:'', bal:0, rate:0, min:0}); renderList(); saveData(); }
        function removeDebt(i) { debts.splice(i, 1); renderList(); saveData(); }
        function updateDebt(i, f, v) { debts[i][f] = f === 'name' ? v : parseFloat(v)||0; saveData(); }
        
        function setStrategy(s) {
            strategy = s;
            document.querySelectorAll('.toggle-opt').forEach(b => b.classList.remove('active'));
            document.getElementById('btn-'+s).classList.add('active');
            saveData();
            if(document.getElementById('final-date').innerText !== "Ready?") calculate();
        }

        function syncSlider(val) {
            document.getElementById('extra-pay').value = val;
            document.getElementById('slider-val').innerText = currency + val;
            saveData();
        }
        function syncInput(val) {
            document.getElementById('extra-pay-slider').value = val;
            document.getElementById('slider-val').innerText = currency + val;
            saveData();
        }

        function switchTab(tab) {
            document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
            document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
            
            // Find specific button (naive but works)
            const btns = document.querySelectorAll('.tab-btn');
            if(tab === 'dashboard') btns[0].classList.add('active');
            if(tab === 'schedule') btns[1].classList.add('active');
            
            document.getElementById('tab-'+tab).classList.add('active');
        }

        function startCalculation() {
            const overlay = document.getElementById('loading-overlay');
            overlay.style.display = 'flex';
            if(window.innerWidth < 960) document.getElementById('results-card').scrollIntoView({behavior:'smooth'});
            setTimeout(() => { calculate(); overlay.style.display = 'none'; fireConfetti(); }, 800);
        }

        function calculate() {
            // 1. Baselines
            const base = simulateBaseline(debts);
            // 2. Strategy
            const strat = simulateStrategy(debts, strategy, parseFloat(document.getElementById('extra-pay').value) || 0);
            // 3. UI
            updateDashboard(base, strat);
        }

        function simulateBaseline(originalDebts) {
            let totalInterest = 0;
            let maxMonths = 0;
            let neverPayoff = false;

            originalDebts.forEach(d => {
                let bal = d.bal, rate = d.rate, min = d.min, months = 0, interestAcc = 0;
                if (bal * (rate/100/12) >= min && bal > 0) neverPayoff = true;

                while(bal > 0 && months < 1200) {
                    months++;
                    let interest = bal * (rate/100/12);
                    interestAcc += interest;
                    bal += interest;
                    if(bal < min) bal = 0; else bal -= min;
                }
                if(months >= 1200) neverPayoff = true;
                totalInterest += interestAcc;
                maxMonths = Math.max(maxMonths, months);
            });
            return { months: maxMonths, interest: totalInterest, never: neverPayoff };
        }

        function simulateStrategy(originalDebts, strat, extraMoney) {
            let list = JSON.parse(JSON.stringify(originalDebts));
            if (strat === 'snowball') list.sort((a,b) => a.bal - b.bal);
            else list.sort((a,b) => b.rate - a.rate);

            let totalInterest = 0, months = 0;
            let totalPrincipal = list.reduce((a,b) => a+b.bal, 0);
            let history = [totalPrincipal];
            let labels = ['Start'];
            let highInterestFound = false, highestRate = 0;
            let schedule = []; // For detailed table

            while(totalPrincipal > 1 && months < 600) {
                months++;
                let avail = extraMoney;
                let monthPaid = 0;
                
                list.forEach(d => {
                    if(d.rate > 20) { highInterestFound = true; highestRate = Math.max(highestRate, d.rate); }
                    if(d.bal > 0) {
                        let interest = d.bal * (d.rate/100/12);
                        d.bal += interest;
                        totalInterest += interest;
                        
                        let pay = d.min;
                        if(d.bal < pay) { pay = d.bal; d.bal = 0; avail += (d.min - pay); }
                        else { d.bal -= pay; }
                        monthPaid += pay;
                    } else { avail += d.min; }
                });

                for(let d of list) {
                    if(d.bal > 0) {
                        if(d.bal <= avail) { avail -= d.bal; monthPaid += avail; d.bal = 0; }
                        else { d.bal -= avail; monthPaid += avail; avail = 0; }
                    }
                }

                totalPrincipal = list.reduce((a,b) => a+b.bal, 0);
                history.push(totalPrincipal);
                
                let d = new Date(); d.setMonth(d.getMonth() + months);
                let dateStr = d.toLocaleString('default',{month:'short', year:'2-digit'});
                if(months % 4 === 0) labels.push(dateStr); else labels.push('');
                
                // Add to schedule
                schedule.push({ month: months, date: dateStr, balance: totalPrincipal, paid: monthPaid });
            }

            return { months, interest: totalInterest, history, labels, highInterestFound, highestRate, schedule };
        }

        function updateDashboard(base, strat) {
            let finalDate = new Date(); finalDate.setMonth(finalDate.getMonth() + strat.months);
            document.getElementById('final-date').innerText = finalDate.toLocaleString('default', { month: 'long', year: 'numeric' });
            document.getElementById('time-saved-text').innerText = `${Math.floor(strat.months/12)} Years, ${strat.months%12} Months`;

            const baseText = document.getElementById('time-min-text');
            if (base.never) { baseText.innerText = "Never (Debt Trap)"; baseText.style.color = "var(--danger)"; }
            else { baseText.innerText = `${Math.floor(base.months/12)} Years, ${base.months%12} Months`; baseText.style.color = "var(--text-muted)"; }

            document.getElementById('val-paid').innerText = currency + Math.floor(strat.interest).toLocaleString();
            
            let saved = 0;
            if (base.never) document.getElementById('val-saved').innerText = "Infinite";
            else {
                saved = Math.max(0, base.interest - strat.interest);
                document.getElementById('val-saved').innerText = currency + Math.floor(saved).toLocaleString();
            }

            let percent = 100;
            if (!base.never && base.months > 0) percent = (strat.months / base.months) * 100;
            else if (base.never) percent = 10;
            document.getElementById('progress-bar-smart').style.width = Math.max(5, percent) + "%";

            // Diagnosis
            const diagBox = document.getElementById('diagnosis-box');
            diagBox.style.display = 'block';
            let diagText = `<strong>Analysis:</strong> You have ${debts.length} active debts. By adding ${currency}${document.getElementById('extra-pay').value}, you will be free in <strong>${strat.months} months</strong>. `;
            if(strat.highInterestFound) diagText += `‚ö†Ô∏è <strong>Critical:</strong> You have debt with ${strat.highestRate}% APR. Prioritize this.`;
            else diagText += `Good progress!`;
            diagBox.innerHTML = diagText;

            renderActionPlan(strat);
            renderSchedule(strat.schedule);
            document.title = `Freedom in ${strat.months} Months! | Clarity Decisions`;
            drawChart(strat.labels, strat.history);
        }

        function renderActionPlan(strat) {
            let html = '';
            let extra = parseFloat(document.getElementById('extra-pay').value) || 0;
            let list = JSON.parse(JSON.stringify(debts));
            
            if (strategy === 'snowball') list.sort((a,b) => a.bal - b.bal); else list.sort((a,b) => b.rate - a.rate);

            const explainer = document.getElementById('strategy-explainer');
            const focusName = list[0].name;
            if(strategy === 'snowball') explainer.innerHTML = `<strong>Strategy: Snowball (Momentum).</strong> <br>Focusing ${currency}${extra} extra on <strong>${focusName}</strong> (lowest balance).`;
            else explainer.innerHTML = `<strong>Strategy: Avalanche (Math).</strong> <br>Focusing ${currency}${extra} extra on <strong>${focusName}</strong> (highest interest).`;

            list.forEach((d, i) => {
                let paymentAmount = d.min;
                let isFocus = (i === 0);
                let badge = '', rowStyle = '', amountStyle = 'color:var(--text-muted);';

                if (isFocus) {
                    paymentAmount = d.min + extra;
                    badge = `<span class="badge-focus">FOCUS</span>`;
                    rowStyle = `border: 1px solid var(--success); background: rgba(16, 185, 129, 0.05);`;
                    amountStyle = `color:var(--success); font-weight:800; font-size:1.1rem;`;
                }

                let alert = '';
                if(d.rate > 15) alert = `<div class="affiliate-card"><i class="fas fa-exclamation-triangle aff-icon"></i><div><div class="aff-content">High Rate (${d.rate}%). Consider Balance Transfer.</div></div></div>`;

                html += `
                    <div class="plan-step" style="flex-direction:column; gap:5px; ${rowStyle}">
                        <div style="display:flex; justify-content:space-between; align-items:center; width:100%;">
                            <div style="display:flex; gap:15px; align-items:center;">
                                <div class="step-num" style="${isFocus ? 'background:var(--success); color:#022c22; border:none;' : ''}">${i+1}</div>
                                <div><strong style="color:white; font-size:0.95rem;">${d.name} ${badge}</strong><div style="font-size:0.8rem; color:var(--text-muted);">${currency}${d.bal} Balance @ ${d.rate}%</div></div>
                            </div>
                            <div style="text-align:right;"><div style="font-size:0.7rem; color:var(--text-muted); text-transform:uppercase;">Pay This Month</div><div style="${amountStyle}">${currency}${paymentAmount.toLocaleString()}</div></div>
                        </div>
                        ${alert}
                    </div>`;
            });
            document.getElementById('action-plan').innerHTML = html;
        }

        function renderSchedule(schedule) {
            const tbody = document.getElementById('schedule-body');
            tbody.innerHTML = '';
            schedule.forEach(row => {
                tbody.innerHTML += `<tr><td>${row.month}</td><td>${row.date}</td><td>${currency}${Math.floor(row.balance).toLocaleString()}</td><td>${currency}${Math.floor(row.paid).toLocaleString()}</td></tr>`;
            });
        }

        function drawChart(labels, data) {
            const ctx = document.getElementById('chart').getContext('2d');
            if(chartInstance) chartInstance.destroy();
            let gradient = ctx.createLinearGradient(0, 0, 0, 400);
            gradient.addColorStop(0, 'rgba(59, 130, 246, 0.5)'); gradient.addColorStop(1, 'rgba(59, 130, 246, 0.0)');
            chartInstance = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: labels,
                    datasets: [{ data: data, borderColor: '#3b82f6', backgroundColor: gradient, borderWidth: 3, fill: true, tension: 0.4, pointRadius: 0, pointHoverRadius: 6 }]
                },
                options: { responsive: true, maintainAspectRatio: false, plugins: { legend: {display: false}, tooltip: {intersect: false, mode: 'index'} }, scales: { x: { grid: {display: false}, ticks: {color: '#64748b', maxTicksLimit: 6} }, y: { grid: {color: '#1e293b'}, ticks: {color: '#64748b'} } } }
            });
        }

        function fireConfetti() {
            const canvas = document.getElementById('confetti'); const ctx = canvas.getContext('2d');
            canvas.width = canvas.parentElement.offsetWidth; canvas.height = canvas.parentElement.offsetHeight;
            let particles = []; const colors = ['#3b82f6', '#06b6d4', '#10b981', '#f59e0b', '#ef4444'];
            for(let i=0; i<100; i++) particles.push({ x: canvas.width/2, y: canvas.height/2, vx: (Math.random()-0.5)*10, vy: (Math.random()-0.5)*10, color: colors[Math.floor(Math.random()*colors.length)], life: 100 });
            function animate() {
                ctx.clearRect(0,0,canvas.width,canvas.height); let alive = false;
                particles.forEach(p => { if(p.life > 0) { alive = true; p.x += p.vx; p.y += p.vy; p.vy += 0.2; p.life--; ctx.fillStyle = p.color; ctx.fillRect(p.x, p.y, 5, 5); } });
                if(alive) requestAnimationFrame(animate); else ctx.clearRect(0,0,canvas.width,canvas.height);
            }
            animate();
        }

        window.onload = init;
    </script>
</body>
</html>